(()=>{var e,t,s={806:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var r=s(617),o=s(577);s.p,s.p,(0,s(526).b)();const c=document.querySelector("#header-placeholder");function n(){let e=-1e3,t=-200,s=document.getElementsByClassName("frame"),r=Array.from(s),o=[];window.onscroll=function(){let s=document.documentElement.scrollTop,c=t-s;t=s,r.forEach((function(t,s){o.push(s*e+e),o[s]+=-7*c;let n=r[s],a=`translateZ(${o[s]}px)`,i=o[s]<Math.abs(e)/1.8?1:0;n.setAttribute("style",`transform: ${a}; opacity: ${i}`),n.style.transform=`${a}`,n.style.opacity=`${i}`}))},window.scrollTo(0,1),window.addEventListener("scroll",(function(){let e=[];r.forEach((t=>{t.style.pointerEvents="none";let s=t.style.transform,r=parseFloat(s.match(/translateZ\(([^)]+)\)/)[1]);1==t.style.opacity&&e.push(r)}));let t=Math.max(...e);r.forEach((e=>{1==e.style.opacity&&e.style.transform==`translateZ(${t}px)`&&(e.style.pointerEvents="visible")}))}))}c&&(0,r.X)("./header.html",c,"Header loading error:").then((()=>(0,o.B)())),n()},617:(e,t,s)=>{"use strict";function r(e,t,s){return new Promise(((r,o)=>{fetch(e).then((t=>{if(!t.ok)throw new Error(`Failed to fetch: ${e}`);return t.text()})).then((e=>{t.innerHTML=e,r()})).catch((e=>{console.error(s,e),o(e)}))}))}s.d(t,{X:()=>r})},526:(e,t,s)=>{"use strict";async function r(e){if(e)try{await s(452)(`./${e}.scss`)}catch(e){console.error("error",e)}}s.d(t,{b:()=>r});const o=document.querySelector("[data-page]");o&&r(o.getAttribute("data-page"))},577:(e,t,s)=>{"use strict";function r(){let e=document.querySelector(".nav__icon-img");!function(){let t=document.querySelectorAll(".header__audio");window.addEventListener("click",(()=>{t.forEach((t=>{t.paused&&(t.play(),e.style.animation="heartbeat 1.19s infinite"),e.addEventListener("mouseenter",(()=>{t.pause(),e.style.animation="none",e.style.transition="all 1s ease"})),e.addEventListener("mouseleave",(()=>{t.play(),e.style.animation="heartbeat 1.19s infinite"}))}))}))}(),function(){const t=document.querySelector(".nav__items");e.addEventListener("click",(()=>{t.style.height="0"==t.offsetHeight?"800px":"0px"}))}()}s.d(t,{B:()=>r})},594:(e,t,s)=>{"use strict";s.d(t,{f:()=>a});var r=s(617),o=s(577);(0,s(526).b)();const c=document.querySelector("#header-placeholder");c&&(0,r.X)("./header.html",c,"Header loading error:").then((()=>(0,o.B)()));const n=document.querySelector("#footer-placeholder");function a(){const e=document.querySelector(".cart"),t=document.querySelector(".cart__content"),s=document.querySelector(".cart__wrapper"),r=document.querySelector(".cart__icon-img");e.addEventListener("click",(function(e){let o=e.target;o==r?(t.style.right="0",s.style.right="0",document.body.style.overflow="hidden",document.body.style.marginRight="8px"):o==t&&(t.style.right="",s.style.right="",document.body.style.overflow="",document.body.style.marginRight="0")})),async function(){const e=document.querySelector(".cart__login-text");let t=(await(async()=>{try{const e=await fetch("/server/auth_verification.php");if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){return console.error("Error checking user login:",e),!1}})().catch((e=>(console.error("Error checking user login:",e),!1)))).id;e.innerHTML=t?"Profile":"Login"}()}n&&(0,r.X)("./footer.html",n,"Footer loading error:")},452:(e,t,s)=>{var r={"./404.scss":[180,"src_asset_css_pages-scss_404_scss"],"./checkout.scss":[465,"src_asset_css_pages-scss_checkout_scss"],"./collection.scss":[660,"src_asset_css_pages-scss_collection_scss"],"./contact.scss":[67,"src_asset_css_pages-scss_contact_scss"],"./login.scss":[333,"src_asset_css_pages-scss_login_scss"],"./main.scss":[997,"src_asset_css_pages-scss_main_scss"],"./payments.scss":[844,"src_asset_css_pages-scss_payments_scss"],"./privacy.scss":[351,"src_asset_css_pages-scss_privacy_scss"],"./profile.scss":[874,"src_asset_css_pages-scss_profile_scss"],"./return.scss":[735,"src_asset_css_pages-scss_return_scss"],"./scroll.scss":[475,"src_asset_css_pages-scss_scroll_scss"],"./shop.scss":[665,"src_asset_css_pages-scss_shop_scss"]};function o(e){if(!s.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return s.e(t[1]).then((()=>s(o)))}o.keys=()=>Object.keys(r),o.id=452,e.exports=o}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var c=r[e]={exports:{}};return s[e](c,c.exports,o),c.exports}o.m=s,o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,s)=>(o.f[s](e,t),t)),[])),o.u=e=>"js/"+e+".js",o.miniCssF=e=>"css/"+e+".css",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="my-site:",o.l=(s,r,c,n)=>{if(e[s])e[s].push(r);else{var a,i;if(void 0!==c)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+c){a=u;break}}a||(i=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+c),a.src=s),e[s]=[r];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(_);var o=e[s];if(delete e[s],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},_=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),i&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&!e;)e=s[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})(),(()=>{if("undefined"!=typeof document){var e={products:0,scroll:0,shop:0};o.f.miniCss=(t,s)=>{e[t]?s.push(e[t]):0!==e[t]&&{"src_asset_css_pages-scss_404_scss":1,"src_asset_css_pages-scss_checkout_scss":1,"src_asset_css_pages-scss_collection_scss":1,"src_asset_css_pages-scss_contact_scss":1,"src_asset_css_pages-scss_login_scss":1,"src_asset_css_pages-scss_main_scss":1,"src_asset_css_pages-scss_payments_scss":1,"src_asset_css_pages-scss_privacy_scss":1,"src_asset_css_pages-scss_profile_scss":1,"src_asset_css_pages-scss_return_scss":1,"src_asset_css_pages-scss_scroll_scss":1,"src_asset_css_pages-scss_shop_scss":1}[t]&&s.push(e[t]=(e=>new Promise(((t,s)=>{var r=o.miniCssF(e),c=o.p+r;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var o=(n=s[r]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===e||o===t))return n}var c=document.getElementsByTagName("style");for(r=0;r<c.length;r++){var n;if((o=(n=c[r]).getAttribute("data-href"))===e||o===t)return n}})(r,c))return t();((e,t,s,r,o)=>{var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onerror=c.onload=s=>{if(c.onerror=c.onload=null,"load"===s.type)r();else{var n=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=n,i.request=a,c.parentNode&&c.parentNode.removeChild(c),o(i)}},c.href=t,document.head.appendChild(c)})(e,c,0,t,s)})))(t).then((()=>{e[t]=0}),(s=>{throw delete e[t],s})))}}})(),(()=>{var e={products:0,scroll:0,shop:0};o.f.j=(t,s)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var c=new Promise(((s,o)=>r=e[t]=[s,o]));s.push(r[2]=c);var n=o.p+o.u(t),a=new Error;o.l(n,(s=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var c=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+c+": "+n+")",a.name="ChunkLoadError",a.type=c,a.request=n,r[1](a)}}),"chunk-"+t,t)}};var t=(t,s)=>{var r,c,[n,a,i]=s,l=0;if(n.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);i&&i(o)}for(t&&t(s);l<n.length;l++)c=n[l],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0},s=self.webpackChunkmy_site=self.webpackChunkmy_site||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e=o(806);async function t(){try{const e=await fetch("/server/auth_verification.php");if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){return console.error("Error checking user login:",e),!1}}const s={totalPriceValue:0};var r=o(617),c=o(594);o.p,o.p,o.p,o.p;const n=document.querySelector("#cart-placeholder");n&&(0,r.X)("./cart.html",n,"Cart loading error:").then((()=>{(0,c.f)()})).catch((e=>{console.error("Error initializing cart:",e)})),fetch("/server/get_products.php").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{!function(e){const t=document.querySelector(".content").lastElementChild;for(let s=0;s<Math.min(e.length,3);s++){const r=e[s],o=`\n            <div class="frame">\n                <div class="frame__content">\n                    <div data-image="${r.product_name}"class=" products-img frame__media frame__media_${s%2==0?"right":"left"}" style="background-image:url(${r.image_url})">\n                    </div>\n                </div>\n            </div>\n            <div class="frame frame_bg ">\n                <div data-id="${r.id}" class="products frame__content text-${s%2==0?"left":"right"}">\n                    <h3 class="products-name">${r.product_name}</h3>\n                    <ul>\n                        <li class="frame__shop-price products-price">${r.price}</li>\n                        <li class="products-description">${r.description}</li>\n                        <li class="products-size">Size: ${r.size}cm</li>\n                    </ul>\n                    <button class="frame__shop-button ${s%2==0?"frame__shop-button-left":""} ${r.ordered?r.ordered:""}" type="button" aria-label="Add to cart">Add to cart</button>\n                </div>\n            </div>\n        `;t.insertAdjacentHTML("beforebegin",o)}}(t),(0,e._)()})).then((()=>{const e=document.querySelectorAll(".ordered");e&&e.forEach((e=>{e.setAttribute("disabled",!0),e.textContent="Was booked"}))})).then((()=>function(){const e=document.querySelector(".cart__tbody"),r=e.querySelector(".cart__table__title"),o=e.querySelector(".cart__subtext"),c=document.querySelector(".cart__button"),n=e.querySelector(".cart__total"),a=e.querySelector(".cart__total-price")||document.querySelector(".checkout__price"),i=document.querySelectorAll(".products");document.body.addEventListener("click",(async e=>{const t=e.target.closest(".frame__shop-button")||e.target.closest(".frame__shop-button-left");t?await l(t):console.log("click")}));const l=async e=>{const s=await t();let r=s.id;const o=d(e,r),c=`\n            <tr class="products" data-product="${o.productId}" data-user="${o.userId}">\n                <td>\n                    <img class="cart__product-img" src="${o.image}" alt="${o.name}">\n                </td>\n                <td>\n                    <ul>\n                        <li>${o.name}</li>\n                        <li>${o.description}</li>\n                        <li>${o.size}</li>\n                    </ul>\n                </td>\n                <td class="cart__product__price-value">€${o.price}</td>\n                <td>\n                    <img class="cart__delete-icon" src="/img/delete-icon.webp" alt="delete">\n                </td>\n            </tr>`;s?p(o).then((t=>{t.status&&(_(c,o.price),e.innerHTML="Added!",e.classList.add("added"))})):u(o)&&(_(c,o.price),e.innerHTML="Added!",e.classList.add("added"))},d=(e,t)=>{const s=e.closest(".products"),r=s.getAttribute("data-id"),o=s.querySelector(".products-name").innerText,c=document.querySelector(`[data-image="${o}"]`)||s.querySelector(".collection-img.products-img");let n;if(s){if(n=getComputedStyle(c).backgroundImage,"none"==n)n=c.getAttribute("src");else{let e=n.match(/url\(["']?(.*?)["']?\)/);e&&e[1]&&(n=e[1])}return{userId:t,productId:r,image:n,name:o,price:s.querySelector(".products-price").innerText,description:s.querySelector(".products-description").innerText,size:s.querySelector(".products-size").innerText}}return console.error("Product info not found"),null},u=e=>{let t=JSON.parse(localStorage.getItem("localStorArr"))||[];return!t.some((t=>t.productId===e.productId))&&(t.push(e),localStorage.setItem("localStorArr",JSON.stringify(t)),!0)},p=async e=>fetch("/server/cart_products_to_db.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).catch((e=>{console.error("Error:",e)})),_=(e,t)=>{r.style.visibility="visible",n.style.visibility="visible",c.style.visibility="visible",o.style.display="none",n.insertAdjacentHTML("beforebegin",e),s.totalPriceValue+=parseInt(t),a.innerHTML="€"+s.totalPriceValue};!async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;function i(e){a&&a.forEach((t=>{if(t.getAttribute("data-id")==e){let e=t.querySelector(".frame__shop-button, .frame__shop-button-left");e.innerHTML="Added!",e.classList.add("added")}}))}await async function(){try{const a=await n();let l=a?a.id:null;const d=await fetch("/server/cart_all_products.php");if(!d.ok)throw new Error("Network response was not ok");(await d.json()).forEach((c=>{if(c.user_id==l){s.totalPriceValue+=parseInt(c.price),i(c.product_id);const n=`\n                        <tr class="products" data-product="${c.product_id}" data-user="${c.user_id}">\n                            <td>\n                                <img class="cart__product-img" src="${c.image}" alt="${c.name}">\n                            </td>\n                            <td>\n                                <ul>\n                                    <li>${c.name}</li>\n                                    <li>${c.description}</li>\n                                    <li>${c.size}</li>\n                                </ul>\n                            </td>\n                            <td class="cart__product__price-value">€${c.price}</td>\n                            <td>\n                                <img class="cart__delete-icon delete-icon" src="/img/delete-icon.webp" alt="delete">\n                            </td>\n                        </tr>`;e&&(e.style.visibility="visible",t.style.visibility="visible",r.style.visibility="visible",o.style.display="none"),t.insertAdjacentHTML("beforebegin",n)}})),c.innerHTML="€"+s.totalPriceValue}catch(e){console.error("Error fetching products:",e)}}(),await async function(){if(!await n()){const n=JSON.parse(localStorage.getItem("localStorArr"))||[];n.length>0&&(n.forEach((c=>{i(c.productId),s.totalPriceValue+=parseInt(c.price);const n=`\n                        <tr class="products" data-product="${c.productId}" data-user="0">\n                            <td>\n                                <img class="cart__product-img" src="${c.image}" alt="${c.name}">\n                            </td>\n                            <td>\n                                <ul>\n                                    <li>${c.name}</li>\n                                    <li>${c.description}</li>\n                                    <li>${c.size}</li>\n                                </ul>\n                            </td>\n                            <td class="cart__product__price-value">€${c.price}</td>\n                            <td>\n                                <img class="cart__delete-icon delete-icon" src="/img/delete-icon.webp" alt="delete">\n                            </td>\n                        </tr>`;e&&(e.style.visibility="visible",t.style.visibility="visible",r.style.visibility="visible",o.style.display="none"),t.insertAdjacentHTML("beforebegin",n)})),c.innerHTML="€"+s.totalPriceValue)}}()}(r,n,c,o,a,t,i)}())).then((()=>{document.querySelector(".cart__wrapper").addEventListener("click",(e=>{!async function(e,t){try{const r=await t(),o=r?.id,c=e.target.closest(".cart__delete-icon");if(c){const e=document.querySelector(".cart__button"),t=c.closest("tr"),r=t.getAttribute("data-product"),n=t.querySelector(".cart__product__price-value"),a=parseFloat(n.textContent.replace(/[^\d.]/g,"")),i=document.querySelector(".cart__total-price");let l=parseFloat(i.textContent.replace(/[^\d.]/g,""));const d=document.querySelectorAll(".products"),u=new Set([...d].map((e=>e.getAttribute("data-id"))));o?await async function(e,t){const s=await fetch("/server/remove_product_from_cart.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,userId:t})});if(!s.ok)throw new Error("Network response was not ok");await s.json()}(r,o):function(e){const t=JSON.parse(localStorage.getItem("localStorArr"))||[],s=t.findIndex((t=>t.productId===e));-1!==s?(t.splice(s,1),localStorage.setItem("localStorArr",JSON.stringify(t))):console.warn("Продукт с указанным ID не найден в Local Storage")}(r),s.totalPriceValue-=a,l-=a,i.textContent="€"+l,t.remove(),u.has(r)&&function(e){const t=document.querySelector(`.products[data-id="${e}"] .frame__shop-button`);t&&(t.classList.remove("added"),t.textContent="Add to cart")}(r),"€0"===i.textContent?e.style.visibility="hidden":e.style.visibility="visible"}}catch(e){console.error("Error:",e)}}(e,t)}))})).catch((e=>console.error("Error fetching products: ",e))),window.scrollTo(0,10)})()})();