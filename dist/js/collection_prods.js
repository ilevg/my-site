(()=>{document.addEventListener("DOMContentLoaded",(function(){fetch("/server/get_products.php").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((n=>{t=n,i(),document.querySelector(".collection__pagination-prev").addEventListener("click",r),document.querySelector(".collection__pagination-next").addEventListener("click",l),c.innerHTML=Math.ceil(t.length/e)})).catch((e=>console.error("Error fetching products: ",e)))}));const e=8;let n=1,t=[];const o=document.querySelector(".collection__page-current"),c=document.querySelector(".collection__page-all");function i(){const o=document.querySelector(".collection__items");o.innerHTML="";const c=(n-1)*e,i=c+e,r=t.slice(c,i);for(let e=0;e<r.length;e++){const n=r[e],t=`\n            <div class="collection__item">\n                <div class="collection__container-img">\n                    <img class="collection-img" src="${n.image_url}" alt="${n.product_name}">\n                </div>\n                <h3>${n.product_name}</h3>\n                <ul>\n                    <li class="frame__shop-price">${n.price}</li>\n                    <li>${n.description}</li>\n                    <li>Size: ${n.size}cm</li>\n                </ul>\n                <button class="frame__shop-button" type="button">Add to cart</button>\n            </div>\n        `;o.insertAdjacentHTML("beforeend",t),setTimeout((()=>{o.querySelectorAll(".collection__item").forEach((e=>e.classList.add("active")))}),10*e)}}function r(){n>1&&(n--,o.innerHTML=n,window.scrollTo({top:0,behavior:"smooth"}),i())}function l(){const c=Math.ceil(t.length/e);n<c&&(n++,o.innerHTML=n,window.scrollTo({top:0,behavior:"smooth"}),i())}o.innerHTML=n})();