(()=>{document.addEventListener("DOMContentLoaded",(function(){fetch("/server/get_products.php").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{n=t,i(),document.querySelector(".collection__pagination-prev").addEventListener("click",r),document.querySelector(".collection__pagination-next").addEventListener("click",l),c.innerHTML=Math.ceil(n.length/e)})).catch((e=>console.error("Error fetching products: ",e)))}));const e=8;let t=1,n=[];const o=document.querySelector(".collection__page-current"),c=document.querySelector(".collection__page-all");function i(){const o=document.querySelector(".collection__items");o.innerHTML="";const c=(t-1)*e,i=c+e,r=n.slice(c,i);for(let e=0;e<r.length;e++){const t=r[e],n=`\n            <div class="collection__item products">\n                <div class="collection__container-img">\n                    <img class="collection-img products-img" src="${t.image_url}" alt="${t.product_name}">\n                </div>\n                <h3 class="products-name">${t.product_name}</h3>\n                    <ul>\n                        <li class="frame__shop-price products-price">${t.price}</li>\n                        <li class="products-description">${t.description}</li>\n                        <li class="products-size">Size: ${t.size}cm</li>\n                    </ul>\n                <button class="frame__shop-button" type="button">Add to cart</button>\n            </div>\n        `;o.insertAdjacentHTML("beforeend",n),setTimeout((()=>{o.querySelectorAll(".collection__item").forEach((e=>e.classList.add("active")))}),10*e)}}function r(){t>1&&(t--,o.innerHTML=t,window.scrollTo({top:0,behavior:"smooth"}),i())}function l(){const c=Math.ceil(n.length/e);t<c&&(t++,o.innerHTML=t,window.scrollTo({top:0,behavior:"smooth"}),i())}o.innerHTML=t})();